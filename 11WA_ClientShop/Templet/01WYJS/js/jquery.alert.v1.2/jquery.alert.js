(function(b){b.alerts={verticalOffset:0,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.3,overlayColor:"#FFF",draggable:true,okButton:"确定",cancelButton:"取消",dialogClass:null,alert:function(e,a,f){if(a==null){a="警告"}b.alerts._show(a,e,null,null,null,"alert",function(c){if(f){f(c)}})},confirm:function(e,a,f){if(a==null){a="确认"}b.alerts._show(a,e,null,null,null,"confirm",function(c){if(f){f(c)}})},prompt:function(a,g,h,f){if(g==null){g="请输入"}b.alerts._show(g,a,h,null,null,"prompt",function(c){if(f){f(c)}})},iframe:function(g,a,f,h){if(a==null){a="提示"}b.alerts._show(a,g,null,f,h,"iframe",null)},choose:function(h,i,g,a,j){if(i==null){i="提示"}b.alerts._show(i,h,null,g,a,"choose",function(c){if(j){j(c)}})},html:function(f,a,h,g){if(a==null){a="提示"}b.alerts._show(a,f,null,h,g,"html",null)},_show:function(e,o,p,q,l,a,r){b.alerts._hide();b.alerts._overlay("show");b("BODY").append('<div id="popup_container" class="gSys_msg_box"><div id="popup_title" class="ptitle"><span class="fn-bg rc-l"></span><h4></h4><span class="fn-bg rc-r"></span><a href="javascript:;" class="fn-bg aclose" title="关闭">关闭</a></div><div id="popup_message_box" class="pbox"><div class="pmsg"><b title="提示:" class="ico"></b><div class="ct" id="popup_message"></div></div></div><div id="popup_opt_box" class="popt"><div class="opt" id="opt"></div></div></div>');if(b.alerts.dialogClass){b("#popup_container").addClass(b.alerts.dialogClass)}if(q==null){q="90%"}b("#popup_container").css({position:"absolute",zIndex:99999,padding:0,margin:0,width:q+"px"});if(l){b("#popup_container").css("height",l+"px")}b("#popup_title h4").text(e);b("#popup_message_box b").addClass(a);b("#popup_message").text(o);b("#popup_message").html(b("#popup_message").text().replace(/\n/g,"<br />"));b.alerts._maintainPosition(true);b.alerts._reposition();b("#popup_title a").click(function(){b.alerts._hide()});switch(a){case"alert":b("#opt").html('<div id="popup_ok" class="pbtn" tabindex="0"><span>'+b.alerts.okButton+"</span></div>");b("#popup_ok").click(function(){b.alerts._hide();r(true)});b("#popup_ok").mouseover(function(){b(this).attr("class","pbtn btn_hover")});b("#popup_ok").mouseout(function(){b(this).attr("class","pbtn")});b("#popup_ok").mousedown(function(){b(this).attr("class","pbtn btn_active")});b("#popup_ok").mouseup(function(){b(this).attr("class","pbtn")});b("#popup_ok").focus().keypress(function(c){if(c.keyCode==13||c.keyCode==27){b("#popup_ok").trigger("click")}});break;case"confirm":b("#opt").html('<div id="popup_cancel" class="pbtn" tabindex="0"><span>'+b.alerts.cancelButton+'</span></div><div id="popup_ok" class="pbtn" tabindex="0"><span>'+b.alerts.okButton+"</span></div>");b("#popup_ok").click(function(){b.alerts._hide();if(r){r(true)}});b("#popup_cancel").click(function(){b.alerts._hide();if(r){r(false)}});b("#popup_ok, #popup_cancel").mouseover(function(){b(this).attr("class","pbtn btn_hover")});b("#popup_ok, #popup_cancel").mouseout(function(){b(this).attr("class","pbtn")});b("#popup_ok, #popup_cancel").mousedown(function(){b(this).attr("class","pbtn btn_active")});b("#popup_ok, #popup_cancel").mouseup(function(){b(this).attr("class","pbtn")});b("#popup_ok").focus();b("#popup_ok, #popup_cancel").keypress(function(c){if(c.keyCode==13){b("#popup_ok").trigger("click")}if(c.keyCode==27){b("#popup_cancel").trigger("click")}});break;case"iframe":b("#popup_message_box").remove();b("#popup_opt_box").remove();b("#popup_container").append("<div id='popup_iframe_box' class='piframe'><div id='loading' class='loading'><img src='./loading.gif'></div></div>");b("#loading").css({width:q+"px",height:l+"px",padding:0,margin:0});if(b.browser.msie&&(b.browser.version=="6.0"||b.browser.version=="7.0")){b("#loading").css("fontSize",l*0.9+"px")}if(b.browser.msie&&b.browser.version=="6.0"){b("#popup_title").width((parseInt(q)+2)+"px")}var m=document.createElement("iframe");m.id="iframe";m.width=q+"px";m.height=l+"px";m.scrolling="auto";m.setAttribute("frameborder","0",0);m.src=o;m.style.display="none";b("#popup_iframe_box").append(m);b(m).load(function(){m.style.display="block";b("#loading").hide()});break;case"prompt":b("#popup_message_box b").remove();b("#popup_message").attr("class","cp");b("#popup_message").append('<br /><input type="text" class="pinput" size="48" id="popup_prompt" />');b("#opt").html('<div id="popup_cancel" class="pbtn" tabindex="0"><span>'+b.alerts.cancelButton+'</span></div><div id="popup_ok" class="pbtn" tabindex="0"><span>'+b.alerts.okButton+"</span></div>");b("#popup_ok, #popup_cancel").mouseover(function(){b(this).attr("class","pbtn btn_hover")});b("#popup_ok, #popup_cancel").mouseout(function(){b(this).attr("class","pbtn")});b("#popup_ok, #popup_cancel").mousedown(function(){b(this).attr("class","pbtn btn_active")});b("#popup_ok, #popup_cancel").mouseup(function(){b(this).attr("class","pbtn")});b("#popup_ok").click(function(){var c=b("#popup_prompt").val();b.alerts._hide();if(r){r(c)}});b("#popup_cancel").click(function(){b.alerts._hide();if(r){r(null)}});b("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(c){if(c.keyCode==13){b("#popup_ok").trigger("click")}if(c.keyCode==27){b("#popup_cancel").trigger("click")}});if(p){b("#popup_prompt").val(p)}b("#popup_prompt").focus().select();break;case"choose":b("#popup_message_box b").remove();b("#popup_message").attr("class","cp");b("#opt").html('<div id="popup_cancel" class="pbtn" tabindex="0"><span>'+b.alerts.cancelButton+'</span></div><div id="popup_ok" class="pbtn" tabindex="0"><span>'+b.alerts.okButton+"</span></div>");b("#popup_ok, #popup_cancel").mouseover(function(){b(this).attr("class","pbtn btn_hover")});b("#popup_ok, #popup_cancel").mouseout(function(){b(this).attr("class","pbtn")});b("#popup_ok, #popup_cancel").mousedown(function(){b(this).attr("class","pbtn btn_active")});b("#popup_ok, #popup_cancel").mouseup(function(){b(this).attr("class","pbtn")});b("#popup_ok").click(function(){var c=b("#popup_message");b.alerts._hide();if(r){r(c)}});b("#popup_cancel").click(function(){b.alerts._hide();if(r){r(null)}});b("#popup_ok, #popup_cancel").keypress(function(c){if(c.keyCode==13){b("#popup_ok").trigger("click")}if(c.keyCode==27){b("#popup_cancel").trigger("click")}});break;case"html":b("#popup_message_box b").remove();b("#popup_opt_box").remove();break}if(b.alerts.draggable){try{b("#popup_container").easydrag();b("#popup_container").setHandler("popup_title");b("#popup_title").css({cursor:"move"})}catch(n){}}},_hide:function(){b("#popup_container").remove();b.alerts._overlay("hide");b.alerts._maintainPosition(false)},_overlay:function(a){switch(a){case"show":b.alerts._overlay("hide");b("BODY").append('<div id="popup_overlay"></div>');b("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:b(document).height(),background:b.alerts.overlayColor,opacity:b.alerts.overlayOpacity});if(b.browser.msie&&b.browser.version=="6.0"){b("#popup_overlay").width(b(window).width())}break;case"hide":b("#popup_overlay").remove();break}},_reposition:function(){var a=((b(window).height()/2)-(b("#popup_container").outerHeight()/2))+b.alerts.verticalOffset;var d=((b(window).width()/2)-(b("#popup_container").outerWidth()/2))+b.alerts.horizontalOffset;if(a<0){a=0}if(d<0){d=0}a=a+b(window).scrollTop();b("#popup_container").css({top:a+"px",left:d+"px"});b("#popup_overlay").height(b(document).height())},_maintainPosition:function(a){if(b.alerts.repositionOnResize){switch(a){case true:b(window).bind("resize",b.alerts._reposition);break;case false:b(window).unbind("resize",b.alerts._reposition);break}}}};jAlert=function(e,a,f){b.alerts.alert(e,a,f)};jConfirm=function(e,a,f){b.alerts.confirm(e,a,f)};jPrompt=function(a,g,h,f){b.alerts.prompt(a,g,h,f)};jIframe=function(g,a,f,h){b.alerts.iframe(g,a,f,h)};jChoose=function(h,i,g,a,j){b.alerts.choose(h,i,g,a,j)};jHtml=function(f,a,h,g){b.alerts.html(f,a,h,g)}})(jQuery);
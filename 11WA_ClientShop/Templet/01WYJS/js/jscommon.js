String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};function isbool(c){var d=$.trim($(c).val());$(c).val(d);d=d.toLowerCase();if(d!="0"&&d!="1"&&d!="false"&&d!="true"){alert("您输入的类型不正确，应该为布尔型 true/false 1/0");c.focus();return false}return true}function IsNum(d){var f=$.trim($(d).val());var e=/^\d+(\.\d+|\d*)$/g;if(e.test(f)==false){$(d).focus();return false}return true}function IsPositiveNum(d){var f=$.trim($(d).val());var e=/^\d+$/g;if(e.test(f)==false){$(d).focus();return false}return true}function isint1(d){var f=$.trim($(d).val());$(d).val(f);var e=/^(-)?[0-9]*[0-9][0-9]*$/;if(e.test(f)==false){d.focus();return false}return true}function isvalint1(c){var d=/^(-)?[0-9]*[0-9][0-9]*$/;if(d.test(c)==false){return false}return true}function isnumeric(d){var f=$.trim($(d).val());$(d).val(f);var e=/^(-)?\d*(\.\d*)?$/;if(e.test(f)==false){alert("您输入的类型不正确，应该为数字类型");d.focus();return false}return true}function isnumeric2(d){var f=$.trim($(d).val());$(d).val(f);var e=/^(-)?\d*(\.\d*)?$/;if(e.test(f)==false){d.focus();return false}return true}function isnumeric1(h,g){var f=$.trim($(h).val());$(h).val(f);var k=$(h).attr("MaxLength")-1-g;var l=new RegExp("^(-)?\\d{1,"+k+"}(\\.\\d{1,"+g+"})?$");if(l.test(f)==false){h.focus();return false}return true}function isnumeric3(m,n){var k=$.trim(m.val());m.val(k);var l=m.attr("maxlength")-1-n;var h=0;var g=0;if(k.indexOf(".")!=-1){h=k.substr(k.indexOf(".")+1).length;g=k.substr(0,k.indexOf(".")).length}else{g=k.length}if(g>l||h>n){m.focus();return false}return true}function isdatetime(l){var k=$.trim($(l).val());$(l).val(k);var d=/^(\d{4})-(\d{1,2})-(\d{1,2})((\s+)(\d{1,2}):(\d{1,2})(:(\d{1,2})(.(\d{1,3}))?)?)?$/;var g=k.match(d);if(g!=null){g[2]=g[2]-1;var h;if(g[4]==""||g[4]==null){h=new Date(g[1],g[2],g[3]);if(h.getFullYear()==g[1]&&h.getMonth()==g[2]&&h.getDate()==g[3]){return true}}else{if(g[8]==""||g[8]==null){h=new Date(g[1],g[2],g[3],g[6],g[7]);if(h.getFullYear()==g[1]&&h.getMonth()==g[2]&&h.getDate()==g[3]&&h.getHours()==g[6]&&h.getMinutes()==g[7]){return true}}else{if(g[10]==""||g[10]==null){h=new Date(g[1],g[2],g[3],g[6],g[7],g[9]);if(h.getFullYear()==g[1]&&h.getMonth()==g[2]&&h.getDate()==g[3]&&h.getHours()==g[6]&&h.getMinutes()==g[7]&&h.getSeconds()==g[9]){return true}}else{h=new Date(g[1],g[2],g[3],g[6],g[7],g[9],g[11]);if(h.getFullYear()==g[1]&&h.getMonth()==g[2]&&h.getDate()==g[3]&&h.getHours()==g[6]&&h.getMinutes()==g[7]&&h.getSeconds()==g[9]&&h.getMilliseconds()==g[11]){return true}}}}}alert("您输入的类型不正确，应该为日期类型");l.focus();return false}function isvaldatetime(g){var k=$.trim(g);var d=/^(\d{4})-(\d{1,2})-(\d{1,2})((\s+)(\d{1,2}):(\d{1,2})(:(\d{1,2})(.(\d{1,3}))?)?)?$/;var l=k.match(d);if(l!=null){l[2]=l[2]-1;var h;if(l[4]==""||l[4]==null){h=new Date(l[1],l[2],l[3]);if(h.getFullYear()==l[1]&&h.getMonth()==l[2]&&h.getDate()==l[3]){return true}}else{if(l[8]==""||l[8]==null){h=new Date(l[1],l[2],l[3],l[6],l[7]);if(h.getFullYear()==l[1]&&h.getMonth()==l[2]&&h.getDate()==l[3]&&h.getHours()==l[6]&&h.getMinutes()==l[7]){return true}}else{if(l[10]==""||l[10]==null){h=new Date(l[1],l[2],l[3],l[6],l[7],l[9]);if(h.getFullYear()==l[1]&&h.getMonth()==l[2]&&h.getDate()==l[3]&&h.getHours()==l[6]&&h.getMinutes()==l[7]&&h.getSeconds()==l[9]){return true}}else{h=new Date(l[1],l[2],l[3],l[6],l[7],l[9],l[11]);if(h.getFullYear()==l[1]&&h.getMonth()==l[2]&&h.getDate()==l[3]&&h.getHours()==l[6]&&h.getMinutes()==l[7]&&h.getSeconds()==l[9]&&h.getMilliseconds()==l[11]){return true}}}}}return false}function datecompareVal(h,m){var l=h.split("-");var g=m.split("-");if(l.length!=3||g.length!=3){alert("您输入的不是有效的日期类型");return -2}else{var k=new Date(l[0],l[1],l[2]);var n=new Date(g[0],g[1],g[2]);if(k>n){return 1}else{if(k<n){return -1}else{return 0}}}}function datecompare(o,w){var t,u;var q=/^(\d{4})-(\d{1,2})-(\d{1,2})$/;var r=false;var n=$.trim($(o).val());$(o).val(n);var s=n.match(q);if(s!=null&&s.length==4){s[2]=s[2]-1;t=new Date(s[1],s[2],s[3]);if(t.getFullYear()==s[1]&&t.getMonth()==s[2]&&t.getDate()==s[3]){r=true}}if(r==false){alert("您输入的不是有效的日期类型");o.focus();return -2}var x=false;var v=$.trim($(w).val());$(w).val(v);var p=v.match(q);if(p!=null&&p.length==4){p[2]=p[2]-1;u=new Date(p[1],p[2],p[3]);if(u.getFullYear()==p[1]&&u.getMonth()==p[2]&&u.getDate()==p[3]){x=true}}if(x==false){alert("您输入的不是有效的日期类型");w.focus();return -2}if(t>u){return 1}else{if(t<u){return -1}else{return 0}}}function OverMaxLength(f,e){var d=/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/g;f="#"+f;if($.trim($(f).val()).replace(d,"aa").length>$(f).attr("MaxLength")){alert(e+"最多"+$(f).attr("MaxLength")+"个字符(1个汉字为2个字符)!");$(f).focus();return true}return false}function getFrameHeight(f){var e=null;try{if(document.getElementById){if(f&&!window.opera){if(f.contentDocument&&f.contentDocument.body.offsetHeight){e=f.contentDocument.body.offsetHeight}else{if(f.Document&&f.Document.body.scrollHeight){e=f.Document.body.scrollHeight}}}}}catch(d){}return e}function request(h){var f=location.href;var l=f.substring(f.indexOf("?")+1,f.length).split("&");var k={};for(i=0;j=l[i];i++){k[j.substring(0,j.indexOf("=")).toLowerCase()]=j.substring(j.indexOf("=")+1,j.length)}var g=k[h.toLowerCase()];if(typeof(g)=="undefined"){return""}else{return g}}function closeWindow(){window.opener=null;window.open("","_self");window.close()}function isLegalInput(h){var f="";var g="select|insert|delete|from|count|drop|update|truncate|asc(|mid|char|chr|xp_cmdshell|exec|master|netlocalgroup administrators|net user| or | and |declare|--|@@|;|'|\"|*|/|%|!";var l=g.split("|");h=h.toLowerCase();for(var k=0;k<l.length;k++){if(h.indexOf(l[k])>=0){f=l[k];break}}return f}function toNewFixed(h,g){var l=/^([0|2|4|6|8])$/g;var n=/^([1|3|5|7|9])$/g;var m=h.substr(h.indexOf(".")+1);var k=h.substr(0,h.indexOf(".")+1);if(m.length>g){if(m.substr(g,1)=="5"){if(m.length>g+1){h=k+m.substr(0,g)+"6"}else{if(l.test(m.substr(g-1,1))){h=k+m.substr(0,g)+"1"}else{if(n.test(m.substr(g-1,1))){h=k+m.substr(0,g)+"6"}}}}}h=parseFloat(h).toFixed(g);return h}var tbxArray=new Array();function GetAllTextBox(f){var e=document.getElementsByTagName("input");var h=e.length;for(var g=0;g<h;g++){if(e[g].type=="text"){if(f==""){tbxArray.push(e[g])}else{if(e[g].id==f){tbxArray.push(e[g])}}}}return tbxArray}function DoExcFocus(d){tbxArray=GetAllTextBox(d);var f=tbxArray.length-1;for(var e=0;e<f;e++){tbxArray[e].NextTextBox=tbxArray[e+1];tbxArray[e].onkeyup=function(){if(((this.value.length==this.maxLength)||(event.keyCode==13))&&this.NextTextBox){this.NextTextBox.focus()}}}}function IsEmpty(c){var d=$.trim($(c).val());if(d==""){$(c).focus();return false}return true}function IsCellphone(d){var c=/^0{0,1}(13[0-9]|15[7-9]|153|156|18[7-9])[0-9]{8}$/;if(!c.test(d.val())){$(d).focus();return false}return true}function IsSelect(b){if(b.val()==""||b.val()=="-1"){$(b).focus();return false}return true}function IsZip(d){var c=/^[0-9]{6}$/;if(!c.test(d.val())){$(d).focus();return false}return true}function IsTelePhone(d){var c=/^(\(\d{3,4}\)|\d{3,4}-)?\d{7,8}$/;if(!c.test(d.val())){$(d).focus();return false}return true}function IsWebUrl(d){var c;if(d.val().indexOf("http://")<0){$(d).focus();return false}else{return true}}function IsNumber(b){if(isNaN(b.val())){$(b).focus();return false}return true};
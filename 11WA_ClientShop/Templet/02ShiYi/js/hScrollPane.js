(function(b){b.extend(jQuery.easing,{easeOutQuint:function(c,k,a,d,j){return d*((k=k/j-1)*k*k*k*k+1)+a}});b.fn.hScrollPane=function(a){a=b.extend(true,{},b.fn.hScrollPane.defaults,a);this.each(function(){var c=b(this),o=c.find(a.mover),l=parseInt(b("#gundiv ul").css("width").replace("px","")),p=a.moverW||o.width(),m=(c.find(".hScrollPane_dragbar").length==0&&p>l)?c.append('<div class="hScrollPane_dragbar"><div class="hScrollPane_draghandle"></div></div>').find(".hScrollPane_dragbar"):c.find(".hScrollPane_dragbar"),n=m.find(".hScrollPane_draghandle");if(a.showArrow){c.append('<a href="###" class="left_btn"></a><a href="###" class="rig_btn"></a>');leftArrow=c.find(".left_btn");rightArrow=c.find(".rig_btn");leftArrow.unbind();rightArrow.unbind()}else{m.css("width",c.width())}o.stop().css("left","0px");c.unbind();n.unbind();m.unbind();var k=parseInt(l)-90;n.bind("mousedown",function(f){var e=f.pageX;var d=parseInt(n.css("left"));if(a.handleCssAlter){b(this).addClass(a.handleCssAlter)}b(document).bind("mousemove",function(g){var h=g.pageX-e+d<0?0:(g.pageX-e+d>=k?k:g.pageX-e+d);n.stop().css({left:h});if(a.easing){o.stop().animate({left:-h/k*(p-l)},{duration:1500,easing:"easeOutQuint",queue:false})}else{o.css({left:-h/k*(p-l)})}return false});b(document).bind("mouseup",function(){if(a.handleCssAlter){n.removeClass(a.handleCssAlter)}b(this).unbind("mousemove")});return false}).click(function(){return false});if(a.dragable){o.bind("mousedown",function(e){var d=e.pageX;b(this).bind("mousemove",function(f){b.fn.hScrollPane.move(a,o,n,l,p,k,d,f.pageX);return false});b(document).bind("mouseup",function(){o.unbind("mousemove")})})}if(a.showArrow){leftArrow.click(function(){b.fn.hScrollPane.move(a,o,n,l,p,k,1);return false}).focus(function(){this.blur()});rightArrow.click(function(){b.fn.hScrollPane.move(a,o,n,l,p,k,-1);return false}).focus(function(){this.blur()})}this.ondragstart=function(){return false};this.onselectstart=function(){return false}})};b.fn.hScrollPane.defaults={showArrow:false,handleMinWidth:0,dragable:true,easing:true,mousewheel:{bind:true,moveLength:90}};b.fn.hScrollPane.move=function(p,t,r,o,c,n,q,s){if(arguments.length==7){var a=parseInt(t.css("left"))+q*p.mousewheel.moveLength}else{var a=parseInt(t.css("left"))+((s-q)/o)*(c-o)}a=a.toFixed(0);a=a>0?0:a<o-c?o-c:a;var m=(a/(o-c))*n;if(p.easing){t.stop().animate({left:a},{duration:1500,easing:"easeOutQuint",queue:false});r.stop().animate({left:m},{duration:1500,easing:"easeOutQuint",queue:false})}else{t.stop().animate({left:a},{duration:5,queue:false});r.css({left:m})}}})(jQuery);
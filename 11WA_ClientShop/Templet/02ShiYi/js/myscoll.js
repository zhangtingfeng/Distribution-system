var myScroll,pullUpEl,pullUpOffset,generatedCount=0;function pullUpAction(){setTimeout(function(){var f,e,d;f=document.getElementById("thelist");for(d=0;d<3;d++){e=document.createElement("li");e.innerText="Generated row "+(++generatedCount);f.appendChild(e,f.childNodes[0])}myScroll.refresh()},1000)}function loaded(){pullUpEl=document.getElementById("pullUp");pullUpOffset=pullUpEl.offsetHeight;myScroll=new iScroll("wrapper",{scrollbarClass:"myScrollbar",useTransition:false,topOffset:0,onRefresh:function(){if(pullUpEl.className.match("loading")){pullUpEl.className="";pullUpEl.querySelector(".pullUpLabel").innerHTML="�������ظ���..."}},onScrollMove:function(){if(this.y<(this.maxScrollY-5)&&!pullUpEl.className.match("flip")){pullUpEl.className="flip";pullUpEl.querySelector(".pullUpLabel").innerHTML="���ֿ�ʼ����...";this.maxScrollY=this.maxScrollY}else{if(this.y>(this.maxScrollY+5)&&pullUpEl.className.match("flip")){pullUpEl.className="";pullUpEl.querySelector(".pullUpLabel").innerHTML="�������ظ���...";this.maxScrollY=pullUpOffset}}},onScrollEnd:function(){if(pullUpEl.className.match("flip")){pullUpEl.className="loading";pullUpEl.querySelector(".pullUpLabel").innerHTML="������...";pullUpAction()}}});setTimeout(function(){document.getElementById("wrapper").style.left="0"},800)}document.addEventListener("touchmove",function(b){b.preventDefault()},false);document.addEventListener("DOMContentLoaded",loaded,false);
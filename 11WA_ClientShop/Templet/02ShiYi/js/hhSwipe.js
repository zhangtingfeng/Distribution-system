function Swipe(H,R){var N=function(){};var ab=function(a){setTimeout(a||N,0)};var I={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(c){var a=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var b in a){if(c.style[a[b]]!==undefined){return true}}return false})(document.createElement("swipe"))};if(!H){return}var F=H.children[0];var T,E,U,ac;R=R||{};var X=parseInt(R.startSlide,10)||0;var P=R.speed||300;R.continuous=R.continuous!==undefined?R.continuous:true;function M(){T=F.children;ac=T.length;if(T.length<2){R.continuous=false}if(I.transitions&&R.continuous&&T.length<3){F.appendChild(T[0].cloneNode(true));F.appendChild(F.children[1].cloneNode(true));T=F.children}E=new Array(T.length);U=H.getBoundingClientRect().width||H.offsetWidth;F.style.width=(T.length*U)+"px";var a=T.length;while(a--){var b=T[a];b.style.width=U+"px";b.setAttribute("data-index",a);if(I.transitions){b.style.left=(a*-U)+"px";V(a,X>a?-U:(X<a?U:0),0)}}if(R.continuous&&I.transitions){V(C(X-1),-U,0);V(C(X+1),U,0)}if(!I.transitions){F.style.left=(X*-U)+"px"}H.style.visibility="visible"}function ad(){if(R.continuous){Q(X-1)}else{if(X){Q(X-1)}}}function S(){if(R.continuous){Q(X+1)}else{if(X<T.length-1){Q(X+1)}}}function C(a){return(T.length+(a%T.length))%T.length}function Q(a,b){if(X==a){return}if(I.transitions){var c=Math.abs(X-a)/(X-a);if(R.continuous){var e=c;c=-E[C(a)]/U;if(c!==e){a=-c*T.length+a}}var d=Math.abs(X-a)-1;while(d--){V(C((a>X?a:X)-d-1),U*c,0)}a=C(a);V(X,U*c,b||P);V(a,0,b||P);if(R.continuous){V(C(a-c),-(U*c),0)}}else{a=C(a);W(X*-U,a*-U,b||P)}X=a;ab(R.callback&&R.callback(X,T[X]))}function V(b,c,a){D(b,c,a);E[b]=c}function D(c,d,b){var a=T[c];var e=a&&a.style;if(!e){return}e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=b+"ms";e.webkitTransform="translate("+d+"px,0)translateZ(0)";e.msTransform=e.MozTransform=e.OTransform="translateX("+d+"px)"}function W(d,a,c){if(!c){F.style.left=a+"px";return}var e=+new Date;var b=setInterval(function(){var f=+new Date-e;if(f>c){F.style.left=a+"px";if(L){O()}R.transitionEnd&&R.transitionEnd.call(event,X,T[X]);clearInterval(b);return}F.style.left=(((a-d)*(Math.floor((f/c)*100)/100))+d)+"px"},4)}var L=R.auto||0;var Y;function O(){Y=setTimeout(S,L)}function K(){L=0;clearTimeout(Y)}var G={};var J={};var Z;var aa={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":ab(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":ab(this.transitionEnd(a));break;case"resize":ab(M.call());break}if(R.stopPropagation){a.stopPropagation()}},start:function(a){var b=a.touches[0];G={x:b.pageX,y:b.pageY,time:+new Date};Z=undefined;J={};F.addEventListener("touchmove",this,false);F.addEventListener("touchend",this,false)},move:function(a){if(a.touches.length>1||a.scale&&a.scale!==1){return}if(R.disableScroll){a.preventDefault()}var b=a.touches[0];J={x:b.pageX-G.x,y:b.pageY-G.y};if(typeof Z=="undefined"){Z=!!(Z||Math.abs(J.x)<Math.abs(J.y))}if(!Z){a.preventDefault();K();if(R.continuous){D(C(X-1),J.x+E[C(X-1)],0);D(X,J.x+E[X],0);D(C(X+1),J.x+E[C(X+1)],0)}else{J.x=J.x/((!X&&J.x>0||X==T.length-1&&J.x<0)?(Math.abs(J.x)/U+1):1);D(X-1,J.x+E[X-1],0);D(X,J.x+E[X],0);D(X+1,J.x+E[X+1],0)}}},end:function(c){var e=+new Date-G.time;var d=Number(e)<250&&Math.abs(J.x)>20||Math.abs(J.x)>U/2;var a=!X&&J.x>0||X==T.length-1&&J.x<0;if(R.continuous){a=false}var b=J.x<0;if(!Z){if(d&&!a){if(b){if(R.continuous){V(C(X-1),-U,0);V(C(X+2),U,0)}else{V(X-1,-U,0)}V(X,E[X]-U,P);V(C(X+1),E[C(X+1)]-U,P);X=C(X+1)}else{if(R.continuous){V(C(X+1),U,0);V(C(X-2),-U,0)}else{V(X+1,U,0)}V(X,E[X]+U,P);V(C(X-1),E[C(X-1)]+U,P);X=C(X-1)}R.callback&&R.callback(X,T[X])}else{if(R.continuous){V(C(X-1),-U,P);V(X,0,P);V(C(X+1),U,P)}else{V(X-1,-U,P);V(X,0,P);V(X+1,U,P)}}}F.removeEventListener("touchmove",aa,false);F.removeEventListener("touchend",aa,false)},transitionEnd:function(a){if(parseInt(a.target.getAttribute("data-index"),10)==X){if(L){O()}R.transitionEnd&&R.transitionEnd.call(a,X,T[X])}}};M();if(L){O()}if(I.addEventListener){if(I.touch){F.addEventListener("touchstart",aa,false)}if(I.transitions){F.addEventListener("webkitTransitionEnd",aa,false);F.addEventListener("msTransitionEnd",aa,false);F.addEventListener("oTransitionEnd",aa,false);F.addEventListener("otransitionend",aa,false);F.addEventListener("transitionend",aa,false)}window.addEventListener("resize",aa,false)}else{window.onresize=function(){M()}}return{setup:function(){M()},slide:function(b,a){K();Q(b,a)},prev:function(){K();ad()},next:function(){K();S()},getPos:function(){return X},getNumSlides:function(){return ac},kill:function(){K();F.style.width="auto";F.style.left=0;var a=T.length;while(a--){var b=T[a];b.style.width="100%";b.style.left=0;if(I.transitions){D(a,0,0)}}if(I.addEventListener){F.removeEventListener("touchstart",aa,false);F.removeEventListener("webkitTransitionEnd",aa,false);F.removeEventListener("msTransitionEnd",aa,false);F.removeEventListener("oTransitionEnd",aa,false);F.removeEventListener("otransitionend",aa,false);F.removeEventListener("transitionend",aa,false);window.removeEventListener("resize",aa,false)}else{window.onresize=null}}}}if(window.jQuery||window.Zepto){(function(b){b.fn.Swipe=function(a){return this.each(function(){b(this).data("Swipe",new Swipe(b(this)[0],a))})}})(window.jQuery||window.Zepto)};